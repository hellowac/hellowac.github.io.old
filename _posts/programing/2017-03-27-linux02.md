---
nav: blog
layout: post
title: "linux - 目录"
author: "wangchao"
tags:
  - linux
  - '目录'
category:
  - 'Programing Teach'
show: true
---

[{{ site.nav.home.name }}]({% link index.md %})/
[{{ site.nav.blog.name }}]({% link blog/index.md %})/
[{{ site.nav.blog.subnav.programing.name }}]({% link blog/programing/index.md %})/
{{ page.title }}


## 命令

### readlink

用不着非得连续使用ls –l命令来查找一系列链接文件的最终目标，只需要使用readlink –f命令就可以了。它能够立刻找出链接文件的最后一环。

参考: [man-pages](http://www.man7.org/linux/man-pages/man2/readlink.2.html)

### vim编辑器

**普通模式(命令行模式)**： 刚打开要编辑的文件时（或新建一个文件时），vim编辑器会进入普通模式。在普通模式中，vim编辑器会将按键解释成命令。

**插入模式**： vim会将你在当前光标位置输入的每个键都插入到缓冲区。
按下i键就可以进入插入模式。要退出插入模式回到普通模式，按下键盘上的退出键（ESC键，也就是Escape键）就可以了。

- **普通模式(命令行模式)中的移动**：
  - `h`：左移一个字符。
  - `j`：下移一行（文本中的下一行）。
  - `k`：上移一行（文本中的上一行）。
  - `l`：右移一个字符。
  - `PageDown`（或`Ctrl+F`）：下翻一屏。
  - `PageUp`（或`Ctrl+B`）：上翻一屏。
  - `G`：移到缓冲区的最后一行。
  - `num G`：移动到缓冲区中的第`num`行。
  - `gg`：移到缓冲区的第一行。
- **普通模式(命令行模式)中的其他指令**：
  - `q`：如果未修改缓冲区数据，退出。
  - `q!`：取消所有对缓冲区数据的修改并退出。
  - `w filename`：将文件保存到另一个文件中。
  - `wq`：将缓冲区数据保存到文件中并退出。
  - **编辑数据**:
    - `x`: 删除当前光标所在位置的字符
    - `dd`: 删除当前光标所在行
    - `dw`: 删除当前光标所在位置的单词
    - `d$`: 删除当前光标所在位置至行尾的内容
    - `J`: 删除当前光标所在行行尾的换行符（拼接行）
    - `u`: 撤销前一编辑命令
    - `a`: 在当前光标后追加数据
    - `A`: 在当前光标所在行行尾追加数据
    - `r`: char 用char替换当前光标所在位置的单个字符
    - `R`: text 用text覆盖当前光标所在位置的数据，直到按下ESC键
    - **注**：有些编辑命令允许使用数字修饰符来指定重复该命令多少次。比如，命令`2x`会删除从光标当前位置开始的两个字符，命令`5dd`会删除从光标当前所在行开始的5行
    - **注**：在vim编辑器的普通模式下使用退格键（Backspace键）和删除键（Delete键）时要留心。vim编辑器通常会将删除键识别成x命令的功能，删除当前光标所在位置的字符。vim编辑器在普通模式下通常不识别退格键。
  - **复制和粘贴**：
    - 用dd命令删除一行文本，然后把光标移动到缓冲区的某个要放置该行文本的位置，然后用p命令。该命令会将文本插入到当前光标所在行之后。可以将它和任何删除文本的命令一起搭配使用。
    - vim中复制命令是 `y` （yank）。在y后面使用和d命令相同的第二字符（ `yw` 复制一个单词， `y$` 复制到行尾）。在复制文本后，把光标移动到你想放置文本的地方，输入 `p` 命令。复制的文本就会出现在该位置。
    - **可视模式** 会在你移动光标时高亮显示文本。按下v键,进入可视模式，移动光标到要开始复制的位置. 光标所在位置的文本会被高亮显示。移动光标来覆盖你想要复制的文本（甚至可以向下移动几行来复制更多行的文本）。在移动过程中会高亮显示复制区域的文本。确定后，按`y`键来激活复制命令。复制的文本会在寄存器中，移动光标到放置的位置，使用`p`命令来粘贴。
  - **查找和替换**:
    - **查找**：
      - 在普通模式下, 输入`/` 并键入 要查找的字符. 然后按下 `Enter` 键. 会有三种方式中的一种回应：
        - 如果要查找的文本出现在光标当前位置之后，则光标会跳到该文本出现的第一个位置。
        - 如果要查找的文本没出现在光标当前位置之后，则光标会绕过文件末尾，出现在该文本所在的第一个位置（并用一条消息指明）。
        - 输出一条错误消息，说明在文件中没有找到要查找的文本。
      - 再一次查找同一个词，按下`／`和`Enter` 键.
      - 查找下一个词, 按下 `n` 键。
    - **替换**：
      - 格式：`:s/old/new/`, 跳到 **old** 第一次出现的地方，并用 **new** 来替换。
      - `:s/old/new/g`：一行命令替换所有old。
      - `:n,ms/old/new/g`：替换行号n和m之间所有old。
      - `:%s/old/new/g`：替换整个文件中的所有old。
      - `:%s/old/new/gc`：替换整个文件中的所有old，但在每次出现时提示。
